<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC "-//Apache Software Foundation//Tapestry Specification 4.0//EN" "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">
<page-specification class="org.sipfoundry.sipxconfig.site.dialplan.EditFlexibleDialPlan">
  <!--
    - P R O P E R T I E S
  -->
  <inject property="dialPlanContext" object="spring:dialPlanContext" />
  <property name="currentRow" />
  <property name="selections" initial-value="new org.sipfoundry.sipxconfig.components.SelectMap()" />
  <property name="selectedRows" />
  <property name="rowsToDuplicate" />
  <property name="rowsToMoveUp" />
  <property name="rowsToMoveDown" />

  <!--
    - B E A N S
  -->
  <bean name="validator" class="org.sipfoundry.sipxconfig.components.SipxValidationDelegate" />
  
  <!--
    - C O M P O N E N T S
  -->
  <component id="form" type="Form">
    <binding name="delegate" value="bean:validator" />
    <binding name="listener" value="listener:formSubmit" />
  </component>
  <component id="tableView" type="Table">
    <binding name="columns" value="literal:* !name,!enabled,!type:type.name,!description" />
    <binding name="source" value="dialPlanContext.rules" />
    <binding name="row" value="currentRow" />
    <binding name="selections" value="selections" />
  </component>
  <component id="delete" type="Submit">
    <binding name="selected" value="selectedRows" />
    <binding name="tag" value="selections.allSelected" />
    <binding name="value" value="message:button.delete" />
  </component>
  <component id="duplicate" type="Submit">
    <binding name="selected" value="rowsToDuplicate" />
    <binding name="tag" value="selections.allSelected" />
    <binding name="value" value="message:button.duplicate" />
  </component>
  <component id="moveUp" type="Submit">
    <binding name="selected" value="rowsToMoveUp" />
    <binding name="tag" value="selections.allSelected" />
    <binding name="value" value="message:button.moveUp" />
  </component>
  <component id="moveDown" type="Submit">
    <binding name="selected" value="rowsToMoveDown" />
    <binding name="tag" value="selections.allSelected" />
    <binding name="value" value="message:button.moveDown" />
  </component>
</page-specification>